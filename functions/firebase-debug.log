[debug] [2018-07-06T09:26:47.001Z] ----------------------------------------------------------------------
[debug] [2018-07-06T09:26:47.007Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2018-07-06T09:26:47.007Z] CLI Version:   3.19.1
[debug] [2018-07-06T09:26:47.007Z] Platform:      darwin
[debug] [2018-07-06T09:26:47.007Z] Node Version:  v8.4.0
[debug] [2018-07-06T09:26:47.008Z] Time:          Fri Jul 06 2018 02:26:47 GMT-0700 (PDT)
[debug] [2018-07-06T09:26:47.008Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-06T09:26:47.024Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-06T09:26:47.024Z] > authorizing via signed-in user
[debug] [2018-07-06T09:26:47.027Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/online-backend-1530412342666  
  
 Fri Jul 06 2018 02:26:47 GMT-0700 (PDT)
[debug] [2018-07-06T09:26:47.615Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:26:47.616Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/online-backend-1530412342666/tokens  
  
 Fri Jul 06 2018 02:26:47 GMT-0700 (PDT)
[debug] [2018-07-06T09:26:48.061Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'online-backend-1530412342666'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2018-07-06T09:27:03.995Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "./node_modules/.bin/tslint -p tslint.json && ./node_modules/.bin/tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/pubsub": "^0.19.0",
    "body-parser": "^1.18.3",
    "cors": "^2.8.4",
    "express": "^4.16.3",
    "firebase-admin": "^5.12.1",
    "firebase-functions": "^1.0.3"
  },
  "devDependencies": {
    "@types/cors": "^2.8.4",
    "tslint": "^5.8.0",
    "typescript": "^2.5.3"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-06T09:27:04.001Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/online-backend-1530412342666?view=CONSUMER_VIEW  
  
 Fri Jul 06 2018 02:27:04 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:04.002Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/online-backend-1530412342666?view=CONSUMER_VIEW  
  
 Fri Jul 06 2018 02:27:04 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:04.857Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:04.860Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2018-07-06T09:27:04.861Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/online-backend-1530412342666  
  
 Fri Jul 06 2018 02:27:04 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:05.287Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:05.288Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/1049533072710:getServerAppConfig  
  
 Fri Jul 06 2018 02:27:05 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:05.635Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-06T09:27:05.637Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs  
  
 Fri Jul 06 2018 02:27:05 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:05.950Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:05.951Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables  
  
 Fri Jul 06 2018 02:27:05 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:05.952Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/pubsubtopic/variables  
  
 Fri Jul 06 2018 02:27:05 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.146Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.148Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/pubsubtopic/variables/name  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.159Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.161Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/client_id  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.162Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/client_x509_cert_url  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.162Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/token_uri  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.162Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/private_key_id  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.163Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/type  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.163Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/project_id  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.164Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/client_email  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.166Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/auth_uri  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.167Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/auth_provider_x509_cert_url  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.167Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/online-backend-1530412342666/configs/service_account/variables/private_key  
  
 Fri Jul 06 2018 02:27:06 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:06.383Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.389Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.391Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.392Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.404Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.408Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.408Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.409Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.409Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.423Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:06.877Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (84.72 KB) for uploading
[debug] [2018-07-06T09:27:08.605Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/online-backend-1530412342666/locations/us-central1/functions:generateUploadUrl  
  
 Fri Jul 06 2018 02:27:08 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:09.453Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:09.453Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-b2f64e3a-edea-4644-8f64-cb1353d1ce83/d3ef9a48-75fc-4419-8ccc-a1f1c420ba89.zip?GoogleAccessId=service-1049533072710@gcf-admin-robot.iam.gserviceaccount.com&Expires=1530871029&Signature=Oyz7SiXs%2FCCdxMnoSWHfSWkwf06re924s7PnnPshsSBtEuNh46XoyiOQvDFKi4%2BpTaptJWYS19tQE5T6unk9izlmREoLA0Xy4v%2FtVo6oxzfGF0750f6UgUnBsdNc4tww1Hz7m%2BT7QthEnI7P4NWPako%2BPf3%2Bp5CuIVj6JJV2wWtVuPbh%2Fu2EeswYPs7T%2B2v%2FG30b8PKsLj6MfJnqZBUcohWSok%2FqaGidDs5N3L%2Bjk1zrt2zkgxAaiex%2FIkGJy3lMd69tiqBfPSJKcV5wuf%2FrecRcGJQniKgN36HKSyUaXrTo6tyrWprjYFOjZpCJcodFQ%2BAhVu%2Biqsx8WPtBBUn9oA%3D%3D  
 ReadStream {
  _readableState: 
   ReadableState {
     objectMode: false,
     highWaterMark: 65536,
     buffer: BufferList { head: [Object], tail: [Object], length: 1 },
     length: 65536,
     pipes: null,
     pipesCount: 0,
     flowing: null,
     ended: false,
     endEmitted: false,
     reading: false,
     sync: false,
     needReadable: false,
     emittedReadable: true,
     readableListening: false,
     resumeScheduled: false,
     destroyed: false,
     defaultEncoding: 'utf8',
     awaitDrain: 0,
     readingMore: false,
     decoder: null,
     encoding: null },
  readable: true,
  domain: null,
  _events: { end: [Function] },
  _eventsCount: 1,
  _maxListeners: undefined,
  path: '/var/folders/y_/z65qn0qj7113ll_cn19dkn_m0000gn/T/firebase-functions-110831SVVS4S4p7wf.zip',
  fd: 19,
  flags: 'r',
  mode: 438,
  start: undefined,
  end: undefined,
  autoClose: true,
  pos: undefined,
  bytesRead: 65536 } 
 Fri Jul 06 2018 02:27:09 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:09.974Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2018-07-06T09:27:09.976Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/online-backend-1530412342666/locations/us-central1/functions  
  
 Fri Jul 06 2018 02:27:09 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:10.473Z] <<< HTTP RESPONSE 200
[info] i  functions: updating function online...
[debug] [2018-07-06T09:27:10.477Z] Trigger is:  {"httpsTrigger":{}}
[debug] [2018-07-06T09:27:10.478Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/online-backend-1530412342666/locations/us-central1/functions/online 
query params: {"updateMask":"sourceUploadUrl,name,labels,httpsTrigger"} 
 { sourceUploadUrl: 'https://storage.googleapis.com/gcf-upload-us-central1-b2f64e3a-edea-4644-8f64-cb1353d1ce83/d3ef9a48-75fc-4419-8ccc-a1f1c420ba89.zip?GoogleAccessId=service-1049533072710@gcf-admin-robot.iam.gserviceaccount.com&Expires=1530871029&Signature=Oyz7SiXs%2FCCdxMnoSWHfSWkwf06re924s7PnnPshsSBtEuNh46XoyiOQvDFKi4%2BpTaptJWYS19tQE5T6unk9izlmREoLA0Xy4v%2FtVo6oxzfGF0750f6UgUnBsdNc4tww1Hz7m%2BT7QthEnI7P4NWPako%2BPf3%2Bp5CuIVj6JJV2wWtVuPbh%2Fu2EeswYPs7T%2B2v%2FG30b8PKsLj6MfJnqZBUcohWSok%2FqaGidDs5N3L%2Bjk1zrt2zkgxAaiex%2FIkGJy3lMd69tiqBfPSJKcV5wuf%2FrecRcGJQniKgN36HKSyUaXrTo6tyrWprjYFOjZpCJcodFQ%2BAhVu%2Biqsx8WPtBBUn9oA%3D%3D',
  name: 'projects/online-backend-1530412342666/locations/us-central1/functions/online',
  labels: { 'deployment-tool': 'cli-firebase' },
  httpsTrigger: {} } 
 Fri Jul 06 2018 02:27:10 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:11.044Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:11.047Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/online-backend-1530412342666/locations/us-central1/functions  
  
 Fri Jul 06 2018 02:27:11 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:11.549Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:11.553Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b25saW5lLWJhY2tlbmQtMTUzMDQxMjM0MjY2Ni91cy1jZW50cmFsMS9vbmxpbmUvU0ljQThveUFlSmc  
  
 Fri Jul 06 2018 02:27:11 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:12.023Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:14.028Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b25saW5lLWJhY2tlbmQtMTUzMDQxMjM0MjY2Ni91cy1jZW50cmFsMS9vbmxpbmUvU0ljQThveUFlSmc  
  
 Fri Jul 06 2018 02:27:14 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:14.488Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:16.493Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b25saW5lLWJhY2tlbmQtMTUzMDQxMjM0MjY2Ni91cy1jZW50cmFsMS9vbmxpbmUvU0ljQThveUFlSmc  
  
 Fri Jul 06 2018 02:27:16 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:17.029Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:19.034Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b25saW5lLWJhY2tlbmQtMTUzMDQxMjM0MjY2Ni91cy1jZW50cmFsMS9vbmxpbmUvU0ljQThveUFlSmc  
  
 Fri Jul 06 2018 02:27:19 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:19.523Z] <<< HTTP RESPONSE 200
[debug] [2018-07-06T09:27:21.528Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/b25saW5lLWJhY2tlbmQtMTUzMDQxMjM0MjY2Ni91cy1jZW50cmFsMS9vbmxpbmUvU0ljQThveUFlSmc  
  
 Fri Jul 06 2018 02:27:21 GMT-0700 (PDT)
[debug] [2018-07-06T09:27:21.987Z] <<< HTTP RESPONSE 200
